<!DOCTYPE html>
<html lang="fr" class="scroll-smooth">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Calculateur Quality Score | StocksPickeur</title>
    
    <script src="https://cdn.tailwindcss.com"></script>
    
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600&family=Plus+Jakarta+Sans:wght@600;700;800&display=swap" rel="stylesheet">
    
    <link rel="icon" href="../media/Logo/logo-black.ico" type="image/x-icon">

    <style>
        body { font-family: 'Inter', sans-serif; }
        h1, h2, h3, h4, .font-heading { font-family: 'Plus Jakarta Sans', sans-serif; }
        
        .input-group {
            background-color: #ffffff;
            padding: 1rem;
            border-radius: 0.75rem;
            border: 1px solid #e2e8f0;
            margin-bottom: 1rem;
            transition: all 0.2s;
        }
        .input-group:focus-within {
            border-color: #4f46e5;
            box-shadow: 0 0 0 3px rgba(79, 70, 229, 0.1);
        }
        .label-text {
            font-size: 0.875rem;
            font-weight: 600;
            color: #475569;
            display: block;
            margin-bottom: 0.5rem;
        }
        .input-field {
            width: 100%;
            padding: 0.5rem;
            border-radius: 0.5rem;
            border: 1px solid #cbd5e1;
            color: #1e293b;
            font-weight: 600;
            background-color: #f8fafc;
        }
        .input-field:focus {
            outline: none;
            background-color: #fff;
        }
    </style>
</head>
<body class="bg-slate-50 text-slate-600 antialiased">

    <header class="fixed w-full z-50 bg-white/90 backdrop-blur-md border-b border-slate-200 transition-all duration-300">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="flex justify-between items-center h-20">
                
                <a href="index.html" class="flex items-center gap-3 group">
                    <img src="./media/Logo/Logo-White.png" alt="Logo StocksPickeur" class="h-10 w-auto filter invert group-hover:opacity-80 transition"> 
                    <span class="font-heading font-bold text-xl text-slate-900 tracking-tight">StocksPickeur</span>
                </a>

                <div class="hidden md:flex items-center gap-8">
                    <nav class="flex gap-6">
                        <a href="calculator.html" class="text-sm font-medium text-slate-600 hover:text-indigo-600 transition">Calculateur</a>
                        <a href="portfolio.html" class="text-sm font-medium text-slate-600 hover:text-indigo-600 transition">Portefeuille</a>
                        <a href="moatpicks.html" class="text-sm font-medium text-slate-600 hover:text-indigo-600 transition">Analyses</a>
                        <a href="formation.html" class="text-sm font-medium text-slate-600 hover:text-indigo-600 transition">Formation</a>
                    </nav>

                    <div class="h-6 w-px bg-slate-200"></div>

                    <a href="#.html" class="bg-slate-900 text-white text-sm font-bold px-5 py-2.5 rounded-full hover:bg-slate-800 transition shadow-lg shadow-slate-900/20 flex items-center gap-2 transform hover:-translate-y-0.5">
                        <svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M11 16l-4-4m0 0l4-4m-4 4h14m-5 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h7a3 3 0 013 3v1" />
                        </svg>
                        Connexion
                    </a>
                </div>

                <div class="md:hidden">
                    <button class="text-slate-500 hover:text-slate-900">
                        <svg class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16"/>
                        </svg>
                    </button>
                </div>
            </div>
        </div>
    </header>

    <main class="pt-32 pb-24 max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">

        <div class="text-center mb-12">
            <span class="inline-block py-1 px-3 rounded-full bg-indigo-50 text-indigo-600 text-xs font-bold uppercase tracking-wider mb-4 border border-indigo-100">
                Outil Premium
            </span>
            <h1 class="text-3xl md:text-5xl font-heading font-extrabold text-slate-900 mb-4">Le Score Quality üíé</h1>
            <p class="text-lg text-slate-500 max-w-2xl mx-auto">
                Analysez objectivement n'importe quelle entreprise avec nos 15 crit√®res quantitatifs. Si le score est bon, vous pouvez passer √† l'analyse qualitative.
            </p>
        </div>

        <div class="grid lg:grid-cols-12 gap-8">
            
            <div class="lg:col-span-7 space-y-8">
                
                <div class="bg-white p-6 rounded-2xl border border-slate-200 shadow-sm relative overflow-hidden">
                    <div class="absolute top-0 left-0 w-1 h-full bg-slate-500"></div>
                    <h3 class="font-heading font-bold text-xl text-slate-900 mb-6 flex items-center">
                        <span class="w-8 h-8 rounded-full bg-slate-100 text-slate-600 flex items-center justify-center mr-3 text-sm">1</span>
                        Les Bases (Fondations)
                    </h3>
                    
                    <div class="space-y-4">
                        <div class="input-group">
                            <label class="label-text">Performance vs S&P 500 (sur 5 ans)</label>
                            <select id="base_perf" class="input-field" onchange="calculateScore()">
                                <option value="0">Fait moins bien que le march√©</option>
                                <option value="2">Bat le S&P 500 (+2 pts)</option>
                            </select>
                        </div>
                        <div class="input-group">
                            <label class="label-text">Nombre d'Actions (Buybacks)</label>
                            <select id="base_shares" class="input-field" onchange="calculateScore()">
                                <option value="0">Augmente (Dilution)</option>
                                <option value="1">Stable / Mitig√© (+1 pt)</option>
                                <option value="2">Diminue (Rachats) (+2 pts)</option>
                            </select>
                        </div>
                        <div class="input-group">
                            <label class="label-text">Diversification du Chiffre d'Affaires</label>
                            <select id="base_div" class="input-field" onchange="calculateScore()">
                                <option value="0">Pas diversifi√© (Risqu√©)</option>
                                <option value="1">Diversifi√© (G√©o OU Segments) (+1 pt)</option>
                                <option value="2">Doublement Diversifi√© (G√©o ET Segments) (+2 pts)</option>
                            </select>
                        </div>
                    </div>
                </div>

                <div class="bg-white p-6 rounded-2xl border border-slate-200 shadow-sm relative overflow-hidden">
                    <div class="absolute top-0 left-0 w-1 h-full bg-emerald-500"></div>
                    <h3 class="font-heading font-bold text-xl text-slate-900 mb-6 flex items-center">
                        <span class="w-8 h-8 rounded-full bg-emerald-100 text-emerald-600 flex items-center justify-center mr-3 text-sm">2</span>
                        Croissance (Historique 10 ans)
                    </h3>
                    
                    <div class="space-y-4">
                        <div class="input-group">
                            <label class="label-text">Ann√©es de croissance du Chiffre d'Affaires (CA)</label>
                            <select id="growth_sales" class="input-field" onchange="calculateScore()">
                                <option value="0">Moins de 7 ans</option>
                                <option value="1">Entre 7 et 9 ans (+1 pt)</option>
                                <option value="2">10 ans sur 10 (Sans faute) (+2 pts)</option>
                            </select>
                        </div>
                        <div class="input-group">
                            <label class="label-text">Ann√©es de croissance du BPA (EPS)</label>
                            <select id="growth_eps" class="input-field" onchange="calculateScore()">
                                <option value="0">Moins de 7 ans</option>
                                <option value="1">Entre 7 et 9 ans (+1 pt)</option>
                                <option value="2">10 ans sur 10 (+2 pts)</option>
                            </select>
                        </div>
                        <div class="input-group">
                            <label class="label-text">Ann√©es de croissance du Free Cash Flow (FCF)</label>
                            <select id="growth_fcf" class="input-field" onchange="calculateScore()">
                                <option value="0">Moins de 7 ans</option>
                                <option value="1">Entre 7 et 9 ans (+1 pt)</option>
                                <option value="2">10 ans sur 10 (+2 pts)</option>
                            </select>
                        </div>
                    </div>
                </div>

                <div class="bg-white p-6 rounded-2xl border border-slate-200 shadow-sm relative overflow-hidden">
                    <div class="absolute top-0 left-0 w-1 h-full bg-amber-500"></div>
                    <h3 class="font-heading font-bold text-xl text-slate-900 mb-6 flex items-center">
                        <span class="w-8 h-8 rounded-full bg-amber-100 text-amber-600 flex items-center justify-center mr-3 text-sm">3</span>
                        Rentabilit√© (Moyenne 5 ans)
                    </h3>
                    
                    <div class="grid grid-cols-2 gap-4">
                        <div class="input-group">
                            <label class="label-text">Marge Nette (%)</label>
                            <input type="number" id="val_net_margin" class="input-field" placeholder="Ex: 25" oninput="calculateScore()">
                        </div>
                        <div class="input-group">
                            <label class="label-text">FCF Margin (%)</label>
                            <input type="number" id="val_fcf_margin" class="input-field" placeholder="Ex: 20" oninput="calculateScore()">
                        </div>
                    </div>
                    <div class="input-group">
                        <label class="label-text">ROIC (%)</label>
                        <input type="number" id="val_roic" class="input-field border-indigo-300" placeholder="Ex: 32" oninput="calculateScore()">
                    </div>
                </div>

                <div class="bg-white p-6 rounded-2xl border border-slate-200 shadow-sm relative overflow-hidden">
                    <div class="absolute top-0 left-0 w-1 h-full bg-red-500"></div>
                    <h3 class="font-heading font-bold text-xl text-slate-900 mb-6 flex items-center">
                        <span class="w-8 h-8 rounded-full bg-red-100 text-red-600 flex items-center justify-center mr-3 text-sm">4</span>
                        Solvabilit√© (Sant√© financi√®re)
                    </h3>
                    
                    <div class="grid grid-cols-2 gap-4">
                        <div class="input-group">
                            <label class="label-text">Dette / EBITDA</label>
                            <input type="number" id="val_debt_ebitda" class="input-field" placeholder="Ex: 0.8" step="0.1" oninput="calculateScore()">
                        </div>
                        <div class="input-group">
                            <label class="label-text">Debt / Equity</label>
                            <input type="number" id="val_debt_equity" class="input-field" placeholder="Ex: 0.5" step="0.1" oninput="calculateScore()">
                        </div>
                    </div>
                    <div class="input-group">
                        <label class="label-text">Interest Coverage</label>
                        <input type="number" id="val_int_coverage" class="input-field" placeholder="Ex: 40" oninput="calculateScore()">
                    </div>
                </div>

                <div class="bg-white p-6 rounded-2xl border border-slate-200 shadow-sm relative overflow-hidden">
                    <div class="absolute top-0 left-0 w-1 h-full bg-blue-500"></div>
                    <h3 class="font-heading font-bold text-xl text-slate-900 mb-6 flex items-center">
                        <span class="w-8 h-8 rounded-full bg-blue-100 text-blue-600 flex items-center justify-center mr-3 text-sm">5</span>
                        Dividende (P√©rennit√©)
                    </h3>
                    
                    <div class="grid grid-cols-2 gap-4">
                        <div class="input-group">
                            <label class="label-text">Payout Ratio (%)</label>
                            <input type="number" id="val_payout" class="input-field" placeholder="Ex: 40" oninput="calculateScore()">
                        </div>
                        <div class="input-group">
                            <label class="label-text">FCF Payout (%)</label>
                            <input type="number" id="val_fcf_payout" class="input-field" placeholder="Ex: 35" oninput="calculateScore()">
                        </div>
                    </div>
                    <div class="input-group">
                        <label class="label-text">Croissance Dividende 5 ans (%)</label>
                        <input type="number" id="val_div_growth" class="input-field" placeholder="Ex: 12" oninput="calculateScore()">
                    </div>
                </div>

            </div>

            <div class="lg:col-span-5 space-y-6">
                <div class="sticky top-24">
                    
                    <div class="bg-slate-900 text-white p-8 rounded-3xl shadow-2xl border border-slate-800 text-center relative overflow-hidden">
                        <div class="absolute top-0 right-0 w-32 h-32 bg-indigo-500 rounded-full filter blur-3xl opacity-20 -mr-10 -mt-10"></div>
                        
                        <h4 class="text-indigo-300 uppercase tracking-widest text-xs font-bold mb-2">Score Final</h4>
                        <div class="text-6xl font-heading font-black mb-2" id="totalScore">0<span class="text-2xl text-slate-500">/30</span></div>
                        
                        <div id="verdictBadge" class="inline-block px-4 py-1 rounded-full bg-slate-800 text-slate-400 text-sm font-bold border border-slate-700 mt-2">
                            En attente...
                        </div>

                        <p class="text-slate-400 text-sm mt-6 italic" id="verdictText">
                            Remplissez les 5 piliers pour obtenir l'analyse.
                        </p>
                    </div>

                    <div class="bg-white p-6 rounded-2xl border border-slate-200 shadow-sm mt-6">
                        <canvas id="qualityRadar"></canvas>
                    </div>

                    <button onclick="resetForm()" class="w-full mt-4 text-slate-400 hover:text-slate-600 text-sm font-medium transition">
                        ‚Ü∫ R√©initialiser le formulaire
                    </button>

                </div>
            </div>

        </div>

    </main>

    <footer class="bg-slate-950 py-12 border-t border-slate-900">
        <div class="max-w-7xl mx-auto px-4 text-center">
            <div class="flex items-center justify-center gap-3 mb-6 opacity-60 filter grayscale hover:grayscale-0 transition duration-500">
                 <img src="./media/Logo/Logo-White.png" alt="Logo" class="h-8">
            </div>
            
            <div class="max-w-4xl mx-auto text-xs text-slate-500 leading-relaxed mb-8">
                <strong class="text-slate-400">Avertissement :</strong> Le contenu de ce site est fourni √† titre informatif et √©ducatif uniquement. StocksPickeur partage ses opinions personnelles et ses propres investissements. Cela ne constitue en aucun cas un conseil en investissement, une recommandation d'achat ou de vente, ni une sollicitation. Investir en bourse comporte des risques, y compris la perte totale du capital investi. Faites vos propres recherches ou consultez un conseiller financier agr√©√© avant de prendre toute d√©cision.
            </div>

            <p class="text-slate-600 text-sm font-medium">
                &copy; 2026 StocksPickeur. Fait avec passion en Belgique üáßüá™
            </p>
        </div>
    </footer>

    <script>
        let myChart = null;

        function calculateScore() {
            let scoreBase = 0;
            let scoreGrowth = 0;
            let scoreProfit = 0;
            let scoreSolvency = 0;
            let scoreDividend = 0;

            // --- 1. LES BASES ---
            scoreBase += parseInt(document.getElementById('base_perf').value);
            scoreBase += parseInt(document.getElementById('base_shares').value);
            scoreBase += parseInt(document.getElementById('base_div').value);

            // --- 2. CROISSANCE ---
            scoreGrowth += parseInt(document.getElementById('growth_sales').value);
            scoreGrowth += parseInt(document.getElementById('growth_eps').value);
            scoreGrowth += parseInt(document.getElementById('growth_fcf').value);

            // --- 3. RENTABILIT√â ---
            // Marge Nette: >35% (+2), >20% (+1)
            let net = parseFloat(document.getElementById('val_net_margin').value) || 0;
            if(net >= 35) scoreProfit += 2; else if(net >= 20) scoreProfit += 1;

            // FCF Margin: >35% (+2), >20% (+1)
            let fcfM = parseFloat(document.getElementById('val_fcf_margin').value) || 0;
            if(fcfM >= 35) scoreProfit += 2; else if(fcfM >= 20) scoreProfit += 1;

            // ROIC: >30% (+2), >15% (+1)
            let roic = parseFloat(document.getElementById('val_roic').value) || 0;
            if(roic >= 30) scoreProfit += 2; else if(roic >= 15) scoreProfit += 1;

            // --- 4. SOLVABILIT√â ---
            // Debt/EBITDA: <1 (+2), <2 (+1)
            let d_ebitda = parseFloat(document.getElementById('val_debt_ebitda').value);
            if(!isNaN(d_ebitda)) {
                if(d_ebitda < 1) scoreSolvency += 2; else if(d_ebitda < 2) scoreSolvency += 1;
            }

            // Debt/Equity: <1 (+2), <2 (+1)
            let d_equity = parseFloat(document.getElementById('val_debt_equity').value);
            if(!isNaN(d_equity)) {
                if(d_equity < 1) scoreSolvency += 2; else if(d_equity < 2) scoreSolvency += 1;
            }

            // Interest Coverage: >30 (+2), >15 (+1)
            let cov = parseFloat(document.getElementById('val_int_coverage').value) || 0;
            if(cov >= 30) scoreSolvency += 2; else if(cov >= 15) scoreSolvency += 1;

            // --- 5. DIVIDENDE ---
            // Payout: <30% (+2), <50% (+1)
            let payout = parseFloat(document.getElementById('val_payout').value);
            if(!isNaN(payout)) {
                if(payout < 30) scoreDividend += 2; else if(payout < 50) scoreDividend += 1;
            }

            // FCF Payout: <30% (+2), <50% (+1)
            let fcf_payout = parseFloat(document.getElementById('val_fcf_payout').value);
            if(!isNaN(fcf_payout)) {
                if(fcf_payout < 30) scoreDividend += 2; else if(fcf_payout < 50) scoreDividend += 1;
            }

            // Growth 5y: >10% (+2), >5% (+1)
            let div_g = parseFloat(document.getElementById('val_div_growth').value) || 0;
            if(div_g >= 10) scoreDividend += 2; else if(div_g >= 5) scoreDividend += 1;

            // TOTAL
            let total = scoreBase + scoreGrowth + scoreProfit + scoreSolvency + scoreDividend;

            // MISE √Ä JOUR UI
            document.getElementById('totalScore').innerHTML = `${total}<span class="text-2xl text-slate-500">/30</span>`;
            
            updateVerdict(total);
            updateChart(scoreBase, scoreGrowth, scoreProfit, scoreSolvency, scoreDividend);
        }

        function updateVerdict(score) {
            const badge = document.getElementById('verdictBadge');
            const text = document.getElementById('verdictText');

            if (score >= 25) {
                badge.className = "inline-block px-4 py-1 rounded-full bg-emerald-500 text-white text-sm font-bold border border-emerald-400 mt-2 shadow-[0_0_15px_rgba(16,185,129,0.5)]";
                badge.textContent = "EXCELLENCE üíé";
                text.innerHTML = "Une entreprise d'exception. Vous pouvez passer √† l'analyse qualitative sereinement.";
                text.className = "text-emerald-400 text-sm mt-6 font-medium";
            } else if (score >= 20) {
                badge.className = "inline-block px-4 py-1 rounded-full bg-indigo-500 text-white text-sm font-bold border border-indigo-400 mt-2";
                badge.textContent = "TR√àS SOLIDE ‚úÖ";
                text.innerHTML = "Une tr√®s belle entreprise. V√©rifiez juste les points faibles.";
                text.className = "text-indigo-300 text-sm mt-6 font-medium";
            } else if (score >= 15) {
                badge.className = "inline-block px-4 py-1 rounded-full bg-amber-500 text-white text-sm font-bold border border-amber-400 mt-2";
                badge.textContent = "MOYENNE ‚ö†Ô∏è";
                text.innerHTML = "Il y a du bon et du moins bon. Attention aux fondamentaux.";
                text.className = "text-amber-400 text-sm mt-6 font-medium";
            } else {
                badge.className = "inline-block px-4 py-1 rounded-full bg-red-500 text-white text-sm font-bold border border-red-400 mt-2";
                badge.textContent = "√Ä FUIR ‚ùå";
                text.innerHTML = "Les chiffres ne sont pas bons. Ne perdez pas votre temps.";
                text.className = "text-red-400 text-sm mt-6 font-medium";
            }
        }

        function updateChart(s1, s2, s3, s4, s5) {
            const ctx = document.getElementById('qualityRadar').getContext('2d');

            if (myChart) myChart.destroy();

            myChart = new Chart(ctx, {
                type: 'radar',
                data: {
                    labels: ['Bases', 'Croissance', 'Rentabilit√©', 'Solvabilit√©', 'Dividende'],
                    datasets: [{
                        label: 'Profil Quality',
                        data: [s1, s2, s3, s4, s5],
                        fill: true,
                        backgroundColor: 'rgba(79, 70, 229, 0.2)', // Indigo transparent
                        borderColor: '#4f46e5', // Indigo solid
                        pointBackgroundColor: '#fff',
                        pointBorderColor: '#4f46e5',
                        pointHoverBackgroundColor: '#fff',
                        pointHoverBorderColor: '#4f46e5'
                    }]
                },
                options: {
                    elements: { line: { tension: 0.3 } },
                    scales: {
                        r: {
                            min: 0,
                            max: 6,
                            ticks: { stepSize: 1, display: false },
                            grid: { color: '#e2e8f0' },
                            pointLabels: {
                                font: { size: 12, family: "'Plus Jakarta Sans', sans-serif", weight: 'bold' },
                                color: '#475569'
                            }
                        }
                    },
                    plugins: { legend: { display: false } }
                }
            });
        }

        function resetForm() {
            document.querySelectorAll('input').forEach(i => i.value = '');
            document.querySelectorAll('select').forEach(s => s.selectedIndex = 0);
            calculateScore();
        }

        // Init empty chart
        document.addEventListener('DOMContentLoaded', calculateScore);

    </script>
</body>
</html>