<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Mon Portefeuille üöÄ</title>
    <link rel="stylesheet" href="style.css">
    <link rel="icon" type="image/png" href="./media/icon.png">
</head>
<body>
    <header>
        <a href="start.html" class="logo-title-link">
            <img src="./media/logo-white.png" alt="Logo QualityInvest">
            <h1>StocksPickeur</h1>
        </a>
        <div class="onglets">
            <a href="wallet.html">Portefeuille</a>
            <a href="analyse.html">Analyseur</a>
        </div>
    </header>

    <h2 class="semititle">Portefeuille √† Dividende Quality üíé by Arthur</h2>

    <div class="link-page">
        <h3><a href="#intro">Performance</a></h3>
        <h3><a href="#stocks-detail">D√©tails du Portefeuille</a></h3>
        <h3><a href="#dividend">Dividendes</a></h3>
        <h3><a href="#annual-perf">Retours Annuels</a></h3>
        <h3><a href="#quality">Qualit√©</a></h3>
    </div>

    <table class="wallet-intro" id="intro">
        <tr>
            <td>Total Investi</td>
            <td id="invested"></td>
            <td>Cash disponible</td>
            <td id="cash"></td>
            <td>Dividendes Annuels</td>
            <td id="total-div"></td>
            <td>Gain Total en ‚Ç¨</td>
            <td id="return-euro"></td>
        </tr>
        <tr>
            <td>Valeur Portefeuille</td>
            <td id="wallet-value"></td>
            <td>Valeur Totale</td>
            <td id="total-value"></td>
            <td>Rendement Portefeuille</td>
            <td id="yield-wallet"></td>
            <td>Gain Total en %</td>
            <td id="return-percent"></td>
        </tr>
    </table>
    <div class="progress-container">
        <h2 class="progress-title">Atteindre les 10 000‚Ç¨ de valeur du Portefeuille : <span id="firstProgressText">0%</span></h2>
        <progress id="firstProgressBar" value="0" max="0" class="progress-bar"></progress>  
        <h2 class="progress-title">Investir un total de 6000‚Ç¨ : <span id="secondProgressText">0%</span></h2>
        <progress id="secondProgressBar" value="0" max="0" class="progress-bar"></progress>
    </div>
    
    
    
    <div class="donut-container">
        <canvas id="firstChart"></canvas>
        <canvas id="secondChart"></canvas>
        <canvas id="eighteenthChart"></canvas>
    </div>


    <table class="stocks-header" id="stocks-detail">
        <tr>
            <th>Logo</th>
            <th>Ticker</th>
            <th>Positions</th>
            <th>PRU</th>
            <th>Prix</th>
            <th>Valeur</th>
            <th>Retour ‚Ç¨</th>
            <th>Retour %</th>
        </tr>
    </table>

    <div class="accordion">
        <table class="stocks-info">
            <tr>
                <td><img src="./media/Logo/AAPL.png" alt="" class="stocks-pic"></td>
                <td id="ticker">AAPL</td>
                <td id="shares"></td>
                <td id="average-price"></td>
                <td id="price"></td>
                <td id="value"></td>
                <td id="perf-euro"></td>
                <td id="perf-percent"></td>
            </tr>
        </table>
    </div>
    <div class="panel">
        <div class="link-page-aapl">
            <h3><a href="#presentation-aapl">Pr√©sentation</a></h3>
            <h3><a href="#personnal-notice-aapl">Avis Personnel</a></h3>
            <h3><a href="#asset-risk-aapl">Atouts et Risques</a></h3>
            <h3><a href="#quality-score-aapl">Score de Qualit√©</a></h3>
        </div>
        <h3 class="panel-subtitle" id="presentation-aapl">Pr√©sentation</h3>
        <p>Fond√©e en 1976 par Steve Jobs, Steve Wozniak et Ronald Wayne, Apple Inc. est une multinationale am√©ricaine dont le si√®ge social se trouve √† Cupertino, en Californie. Apple est r√©put√©e pour ses innovations dans le domaine de la technologie grand public, notamment ses produits embl√©matiques tels que l'iPhone, l'iPad, le Mac et l'Apple Watch. L'entreprise con√ßoit, fabrique et commercialise √©galement des logiciels comme iOS, macOS, watchOS et tvOS, ainsi que des services tels que l'iTunes Store, l'App Store, Apple Music et iCloud. Gr√¢ce √† son approche ax√©e sur le design, l'innovation et l'int√©gration verticale, Apple a acquis une base de clients fid√®les √† travers le monde et reste l'une des entreprises les plus valoris√©es au monde. <br><br>
            L'avantage comp√©titif principal d'Apple r√©side dans son √©cosyst√®me int√©gr√© de produits, logiciels et services. L'entreprise b√©n√©ficie d'une base de clients tr√®s fid√®les, attir√©s par le design innovant, la qualit√© des produits et l'exp√©rience utilisateur coh√©rente offerts par les produits Apple. De plus, Apple dispose d'une forte capacit√© √† g√©n√©rer des revenus r√©currents gr√¢ce √† ses services tels que l'App Store, Apple Music et iCloud. Cette combinaison d'innovation, de fid√©lit√© √† la marque et de revenus r√©currents cr√©e un moat √©conomique significatif pour Apple.</p>
        <h3 class="panel-subtitle" id="personnal-notice-aapl">Avis Personnel</h3>
        <p>√âtant la plus grosse capitalisation boursi√®re au monde, l'action Apple est parmi l'une des plus populaires au monde. L'entreprise am√©ricaine est la septi√®me soci√©t√© au monde ayant g√©n√©r√© le plus grosse chiffre d'affaires, rien que √ßa. Tout cet amour des investisseurs envers cet action est bel et bien justifi√©. L'image de la marque et la qualit√© de l'√©cosyst√®me Apple permet √† la pomme de toucher de nouveaux clients et de fid√©liser ceux d√©j√† clients. La concurrence fait rage dans le secteur du hardware de la tech, mais la qualit√© de ses produits et l'innovation constante leur permet de toujours engranger de plus en plus de parts de march√©s. <br><br>
            De plus, Apple ne d√©pend pas uniquement de l'hardware pour g√©n√©rer des revenus. En effet, la partie "Service" (qui comprends les revenus d'Apple Music, iCloud, App Store, Apple Pay,etc...) assure √† la soci√©t√© des revenus r√©currents et stables en tout temps. Cette partie qui repr√©sente plus de 20% du chiffre d'affaires n'a fait que grimper depuis 2014, et continue de battre les estimations des analystes trimestre apr√®s trimestre. C'est un point fort sur lequel Apple doit continuer de miser pour son futur. Comme pour les autres actions de ce portefeuille, l'entreprise effectue des rachats d'actions aggressifs, d√©passant m√™me le record avec un rachat d'actions √† hauteur de 110 milliards de dollars. Je suis satisfait de l'allocation du capital g√©r√© par Cook et ses √©quipes : un dividende qui augmente lentement mais s√ªrement, un Payout Ratio extr√™mement bas pour la moyenne du march√©, et des rachats d'actions gargantuesques. <br><br>
            Attention ceci dit √† la partie "Croissance" du groupe. La croissance du Free-Cash-Flow ainsi que du Chiffres d'Affaires est √† surveiller. Les ventes en Chine sont aussi un point d'attention, car les ventes en Asie repr√©sentent pas moins d'un tiers des revenus de la soci√©t√©. C'est donc un secteur g√©ographique-cl√© pour le g√©ant de Cupertino. Autre point √† surveiller, la d√©pendance d'Apple aux ventes d'iPhone, qui repr√©sentent 52% des ventes totales du groupe. Cependant, la soci√©t√© peut compter sur la sortie d'un nouveau mod√®le tout les 1-2 ans pour faire gonfler ses ventes. <br><br>
            En terme de qualit√© pure et dure, c'est l'action la moins qualitative de mon Portefeuille avec une note de 22/30, mais son pouvoir de fixation des prix et sa client√®le ayant une loyaut√© sans faille me poussent √† rester actionnaire de cette magnifique entreprise. Je suis m√™me client d'Apple en √©tant pass√© de Samsung √† iPhone, et r√©cemment de Windows √† macOs : impossible pour faire de faire machine arri√®re ! La qualit√© de ses produits est ind√©niable, et je crois fortement √† son futur.
        </p>
        <h3 class="panel-subtitle" id="asset-risk-aapl">Atouts et Risques</h3>
        <table class="panel-table">
            <tr>
               <th id="panel-table-title">Atouts</th>
               <th id="panel-table-title">Risques</th> 
            </tr>
            <tr>
                <td id="asset">Fixation des prix</td>
                <td id="risk">D√©pendance √† l'iPhone</td>
            </tr>
            <tr>
                <td id="asset">Fid√©lit√© Client</td>
                <td id="risk">Ventes en Chine</td>
            </tr>
            <tr>
                <td id="asset">Qualit√© des Produits</td>
                <td id="risk">Enjeu de l'IA</td>
            </tr>
        </table>
        <h3 class="panel-subtitle" id="quality-score-aapl">Score de Qualit√©</h3>
        <div class="radar-container">
            <canvas id="twelfthChart"></canvas>
        </div>
        <h4 class="held-since">Action d√©tenue depuis : 27 mars 2023</h4>
    </div>
    <div class="accordion">
        <table class="stocks-info">
            <tr>
                <td><img src="./media/Logo/MA.png" alt="" class="stocks-pic"></td>
                <td id="ticker">MA</td>
                <td id="shares"></td>
                <td id="average-price"></td>
                <td id="price"></td>
                <td id="value"></td>
                <td id="perf-euro"></td>
                <td id="perf-percent"></td>
            </tr>
        </table>
    </div>
    <div class="panel">
        <div class="link-page-ma">
            <h3><a href="#presentation-ma">Pr√©sentation</a></h3>
            <h3><a href="#personnal-notice-ma">Avis Personnel</a></h3>
            <h3><a href="#asset-risk-ma">Atouts et Risques</a></h3>
            <h3><a href="#quality-score-ma">Score de Qualit√©</a></h3>
        </div>
        <h3 class="panel-subtitle" id="presentation-ma">Pr√©sentation</h3>
        <p>Fond√©e en 1966 sous le nom de Interbank Card Association, Mastercard est une entreprise am√©ricaine sp√©cialis√©e dans les services financiers, en particulier dans les syst√®mes de paiement √©lectronique. Mastercard fournit des solutions de paiement, y compris des cartes de cr√©dit, de d√©bit et pr√©pay√©es, ainsi que des services de traitement des transactions pour les institutions financi√®res, les commer√ßants et les consommateurs √† travers le monde. En tant que r√©seau de paiement mondial, Mastercard facilite les transactions financi√®res s√©curis√©es dans plus de 210 pays et territoires, offrant une connectivit√© entre les banques √©mettrices et les commer√ßants. <br><br>
            En tant que l'un des principaux r√©seaux de paiement au monde, Mastercard b√©n√©ficie d'un avantage comp√©titif consid√©rable gr√¢ce √† son r√©seau mondial √©tendu et √† sa marque bien √©tablie. La soci√©t√© est largement accept√©e par les commer√ßants et les institutions financi√®res √† travers le monde, ce qui lui conf√®re une position dominante dans l'industrie des paiements √©lectroniques. De plus, Mastercard investit continuellement dans l'innovation technologique pour am√©liorer la s√©curit√© et l'efficacit√© des transactions, renfor√ßant ainsi son moat √©conomique.</p>
        <h3 class="panel-subtitle" id="personnal-notice-ma">Avis Personnel</h3>
        <p>
            Mastercard, comme pour son concurrent Visa, joue le r√¥le d‚Äôinterm√©diaire entre les banques, institutions financi√®res et les consommateurs.  De nombreux points me poussent √† √™tre et rester actionnaire de la soci√©t√© Mastercard. L‚Äôun de ses plus gros points fort est sa rentabilit√© stratosph√©rique :  la marge nette moyenne des soci√©t√©s du S&P 500 √©tait de 10,7% fin 2023, celle de Mastercard est de 46% !! Des marges 4x plus √©lev√©e que celle du march√©, cela t√©moigne directement d‚Äôun MOAT extr√™mement puissant. En effet, le business-model de Mastercard est tr√®s solide, il se repose sur les frais de transaction qu‚Äôelle facture aux commer√ßants chaque fois qu‚Äôune carte Mastercard est utilis√©e pour effectuer un achat. <br><br>
            Un avantage comp√©titif plus que confortable qui ne risque pas de dispara√Ætre du jour au lendemain, car avec ses +2,5 milliards de carte en circulation, le g√©ant du paiement continue d‚Äôasseoir sa position dominante. Le volume de paiement et le nombre de cartes en circulation continue de grimper d‚Äôann√©es en ann√©es, tout comme le revenu et le Free-Cash-Flow de la boite. Tout les signaux de croissance sont au vert. Mastercard dispose donc d‚Äôun puissant effet de r√©seau, qui pousse les consommateurs √† rejoindre son r√©seau. Les commer√ßants sont aussi entrain√© √† autoriser les paiements par Mastercard afin de ne pas perdre de pr√©cieux clients qui comptaient payer par ce moyen r√©pandu sur le globe. <br><br>
            Il est n√©cessaire de suivre de pr√®s l'√©volution des cryptomonnaies dans l'opinion publique, mais il faudra encore un certain temps avant que ce mode de monnaie soit largement adopt√© : les habitudes de paiement ne changent pas du jour au lendemain. Cette transition demande du temps, ainsi que la cr√©ation de nouveaux comptes et le remplissage de formulaires, entre autres d√©marches. √Ä voir comment Mastercard va r√©agir face √† √ßa, et pourquoi pas en tirer profit elle aussi ! Autre petit point √† surveiller : l‚Äô√©volution de la dette. Dans l‚Äôanalyse qualitative de l‚Äôaction, c‚Äôest son plus gros point faible. Le Debt-to-Equity est pour l‚Äôinstant au dessus de 2, ce n‚Äôest clairement pas alarmiste mais je souhaiterai qu‚Äôil passe en dessous de la barre des 2. Le ratio de couverture des int√©r√™ts est tr√®s bon mais pas parfait. Ce sont de petit d√©tail mais nous devons rester ferme et exigeant : nous voulons les plus belles soci√©t√©s de la plan√®te. <br><br>
            Rien √† dire sur la gestion du dividende qui est parfaite : payout ratio extr√™mement bas et un dividende qui cro√Æt √† 2 chiffres, que demander de plus ? Mastercard est une grosse conviction pour moi, l‚Äôaction est d‚Äôexcellente qualit√© et je la conserverait tant que je ne vois pas une nette d√©gradation de ses fondamentaux (tr√®s peu probable disons-le).
        </p>
        <h3 class="panel-subtitle" id="asset-risk-ma">Atouts et Risques</h3>
        <table class="panel-table">
            <tr>
               <th id="panel-table-title">Atouts</th>
               <th id="panel-table-title">Risques</th> 
            </tr>
            <tr>
                <td id="asset">Duopole avec Visa</td>
                <td id="risk">Cryptomonnaies</td>
            </tr>
            <tr>
                <td id="asset">Marges stratosph√©riques</td>
                <td id="risk">Dette non n√©gligeable</td>
            </tr>
            <tr>
                <td id="asset">Business-Model solide</td>
                <td id="risk">Parts de March√©s</td>
            </tr>
        </table>
        <h3 class="panel-subtitle" id="quality-score-ma">Score de Qualit√©</h3>
        <div class="radar-container">
            <canvas id="thirteenthChart"></canvas>
        </div>
        <h4 class="held-since">Action d√©tenue depuis : 28 avril 2023</h4>
    </div>
    <div class="accordion">
        <table class="stocks-info">
            <tr>
                <td><img src="./media/Logo/MSFT.png" alt="" class="stocks-pic"></td>
                <td id="ticker">MSFT</td>
                <td id="shares"></td>
                <td id="average-price"></td>
                <td id="price"></td>
                <td id="value"></td>
                <td id="perf-euro"></td>
                <td id="perf-percent"></td>
            </tr>
        </table>
    </div>
    <div class="panel">
        <div class="link-page-msft">
            <h3><a href="#presentation-msft">Pr√©sentation</a></h3>
            <h3><a href="#personnal-notice-msft">Avis Personnel</a></h3>
            <h3><a href="#asset-risk-msft">Atouts et Risques</a></h3>
            <h3><a href="#quality-score-msft">Score de Qualit√©</a></h3>
        </div>
        <h3 class="panel-subtitle" id="presentation-msft">Pr√©sentation</h3>
        <p>Fond√©e en 1975 par Bill Gates et Paul Allen, Microsoft Corporation est une multinationale am√©ricaine dont le si√®ge social est situ√© √† Redmond, dans l'√âtat de Washington. Microsoft est un leader mondial dans le d√©veloppement de logiciels, de mat√©riels et de services informatiques. La soci√©t√© est surtout connue pour son syst√®me d'exploitation Windows, sa suite bureautique Microsoft Office, la console de jeu Xbox, ainsi que pour ses services cloud tels que Microsoft Azure. Avec une pr√©sence dans de nombreux secteurs de l'industrie technologique, Microsoft s'efforce de cr√©er des produits et des solutions innovants qui am√©liorent la productivit√© des entreprises et la vie quotidienne des consommateurs. <br><br>
            Microsoft b√©n√©ficie d'un avantage comp√©titif durable dans plusieurs domaines cl√©s. Tout d'abord, sa position dominante dans les syst√®mes d'exploitation avec Windows et dans les suites logicielles avec Microsoft Office lui conf√®re une part de march√© consid√©rable et des flux de revenus r√©currents. De plus, Microsoft est un leader dans le domaine du cloud computing avec sa plateforme Azure, b√©n√©ficiant ainsi de la croissance rapide du cloud. Son √©cosyst√®me int√©gr√© de produits, de services et de plateformes offre √©galement des opportunit√©s d'expansion et de synergie, renfor√ßant ainsi son moat √©conomique. </p>
        <h3 class="panel-subtitle" id="personnal-notice-msft">Avis Personnel</h3>
        <p>√âtant la plus grosse capitalisation boursi√®re au monde, l'action Apple est parmi l'une des plus populaires au monde. L'entreprise am√©ricaine est la septi√®me soci√©t√© au monde ayant g√©n√©r√© le plus grosse chiffre d'affaires, rien que √ßa. Tout cet amour des investisseurs envers cet action est bel et bien justifi√©. L'image de la marque et la qualit√© de l'√©cosyst√®me Apple permet √† la pomme de toucher de nouveaux clients et de fid√©liser ceux d√©j√† clients. La concurrence fait rage dans le secteur du hardware de la tech, mais la qualit√© de ses produits et l'innovation constante leur permet de toujours engranger de plus en plus de parts de march√©s. <br><br>
            De plus, Apple ne d√©pend pas uniquement de l'hardware pour g√©n√©rer des revenus. En effet, la partie "Service" (qui comprends les revenus d'Apple Music, iCloud, App Store, Apple Pay,etc...) assure √† la soci√©t√© des revenus r√©currents et stables en tout temps. Cette partie qui repr√©sente plus de 20% du chiffre d'affaires n'a fait que grimper depuis 2014, et continue de battre les estimations des analystes trimestre apr√®s trimestre. C'est un point fort sur lequel Apple doit continuer de miser pour son futur. Comme pour les autres actions de ce portefeuille, l'entreprise effectue des rachats d'actions aggressifs, d√©passant m√™me le record avec un rachat d'actions √† hauteur de 110 milliards de dollars. Je suis satisfait de l'allocation du capital g√©r√© par Cook et ses √©quipes : un dividende qui augmente lentement mais s√ªrement, un Payout Ratio extr√™mement bas pour la moyenne du march√©, et des rachats d'actions gargantuesques. <br><br>
            
            Attention ceci dit √† la partie "Croissance" du groupe. La croissance du Free-Cash-Flow ainsi que du Chiffres d'Affaires est √† surveiller. Les ventes en Chine sont aussi un point d'attention, car les ventes en Asie repr√©sentent pas moins d'un tiers des revenus de la soci√©t√©. C'est donc un secteur g√©ographique-cl√© pour le g√©ant de Cupertino. Autre point √† surveiller, la d√©pendance d'Apple aux ventes d'iPhone, qui repr√©sentent 52% des ventes totales du groupe. Cependant, la soci√©t√© peut compter sur la sortie d'un nouveau mod√®le tout les 1-2 ans pour faire gonfler ses ventes. <br><br>

            En terme de qualit√© pure et dure, c'est l'action la moins qualitative de mon Portefeuille avec une note de 22/30, mais son pouvoir de fixation des prix et sa client√®le ayant une loyaut√© sans faille me poussent √† rester actionnaire de cette magnifique entreprise. Je suis m√™me client d'Apple en √©tant pass√© de Samsung √† iPhone, et r√©cemment de Windows √† macOs : impossible pour faire de faire machine arri√®re ! La qualit√© de ses produits est ind√©niable, et je crois fortement √† son futur.
        </p>
        <h3 class="panel-subtitle" id="asset-risk-msft">Atouts et Risques</h3>
        <table class="panel-table">
            <tr>
               <th id="panel-table-title">Atouts</th>
               <th id="panel-table-title">Risques</th> 
            </tr>
            <tr>
                <td id="asset">Fixation des prix</td>
                <td id="risk">D√©pendance √† l'iPhone</td>
            </tr>
            <tr>
                <td id="asset">Fid√©lit√© Client</td>
                <td id="risk">Ventes en Chine</td>
            </tr>
            <tr>
                <td id="asset">Qualit√© des Produits</td>
                <td id="risk">Enjeu de l'IA</td>
            </tr>
        </table>
        <h3 class="panel-subtitle" id="quality-score-msft">Score de Qualit√©</h3>
        <div class="radar-container">
            <canvas id="fourteenthChart"></canvas>
        </div>
        <h4 class="held-since">Action d√©tenue depuis : 27 mars 2023</h4>
    </div>
    <div class="accordion">
        <table class="stocks-info">
            <tr>
                <td><img src="./media/Logo/V.png" alt="" class="stocks-pic"></td>
                <td id="ticker">V</td>
                <td id="shares"></td>
                <td id="average-price"></td>
                <td id="price"></td>
                <td id="value"></td>
                <td id="perf-euro"></td>
                <td id="perf-percent"></td>
            </tr>
        </table>
    </div>
    <div class="panel">
        <div class="link-page-v">
            <h3><a href="#presentation-v">Pr√©sentation</a></h3>
            <h3><a href="#personnal-notice-v">Avis Personnel</a></h3>
            <h3><a href="#asset-risk-v">Atouts et Risques</a></h3>
            <h3><a href="#quality-score-v">Score de Qualit√©</a></h3>
        </div>
        <h3 class="panel-subtitle" id="presentation-v">Pr√©sentation</h3>
        <p>Fond√©e en 1958 sous le nom de BankAmericard, Visa Inc. est une entreprise am√©ricaine sp√©cialis√©e dans les services de paiement √©lectronique. Visa propose une gamme de produits et services de paiement, y compris des cartes de cr√©dit, de d√©bit et pr√©pay√©es, ainsi que des solutions de paiement √©lectronique pour les particuliers, les commer√ßants et les institutions financi√®res dans le monde entier. La soci√©t√© facilite les transactions financi√®res s√©curis√©es √† l'√©chelle mondiale gr√¢ce √† son r√©seau de traitement des paiements, qui relie les √©metteurs de cartes, les acqu√©reurs de transactions, les commer√ßants et les consommateurs. En tant que leader mondial des paiements √©lectroniques, Visa joue un r√¥le crucial dans l'√©conomie mondiale en facilitant le commerce et les √©changes financiers. <br><br>
            Visa poss√®de l'un des r√©seaux de paiement les plus √©tendus au monde, ce qui constitue son principal avantage comp√©titif. La marque Visa est largement reconnue et accept√©e par les commer√ßants et les consommateurs √† travers le monde, ce qui lui conf√®re une position dominante dans l'industrie des paiements √©lectroniques. De plus, Visa investit dans l'innovation technologique pour am√©liorer la s√©curit√©, la commodit√© et l'efficacit√© des transactions, renfor√ßant ainsi son moat √©conomique. </p>
        <h3 class="panel-subtitle" id="personnal-notice-v">Avis Personnel</h3>
        <p>√âtant la plus grosse capitalisation boursi√®re au monde, l'action Apple est parmi l'une des plus populaires au monde. L'entreprise am√©ricaine est la septi√®me soci√©t√© au monde ayant g√©n√©r√© le plus grosse chiffre d'affaires, rien que √ßa. Tout cet amour des investisseurs envers cet action est bel et bien justifi√©. L'image de la marque et la qualit√© de l'√©cosyst√®me Apple permet √† la pomme de toucher de nouveaux clients et de fid√©liser ceux d√©j√† clients. La concurrence fait rage dans le secteur du hardware de la tech, mais la qualit√© de ses produits et l'innovation constante leur permet de toujours engranger de plus en plus de parts de march√©s. <br><br>
            De plus, Apple ne d√©pend pas uniquement de l'hardware pour g√©n√©rer des revenus. En effet, la partie "Service" (qui comprends les revenus d'Apple Music, iCloud, App Store, Apple Pay,etc...) assure √† la soci√©t√© des revenus r√©currents et stables en tout temps. Cette partie qui repr√©sente plus de 20% du chiffre d'affaires n'a fait que grimper depuis 2014, et continue de battre les estimations des analystes trimestre apr√®s trimestre. C'est un point fort sur lequel Apple doit continuer de miser pour son futur. Comme pour les autres actions de ce portefeuille, l'entreprise effectue des rachats d'actions aggressifs, d√©passant m√™me le record avec un rachat d'actions √† hauteur de 110 milliards de dollars. Je suis satisfait de l'allocation du capital g√©r√© par Cook et ses √©quipes : un dividende qui augmente lentement mais s√ªrement, un Payout Ratio extr√™mement bas pour la moyenne du march√©, et des rachats d'actions gargantuesques. <br><br>
            
            Attention ceci dit √† la partie "Croissance" du groupe. La croissance du Free-Cash-Flow ainsi que du Chiffres d'Affaires est √† surveiller. Les ventes en Chine sont aussi un point d'attention, car les ventes en Asie repr√©sentent pas moins d'un tiers des revenus de la soci√©t√©. C'est donc un secteur g√©ographique-cl√© pour le g√©ant de Cupertino. Autre point √† surveiller, la d√©pendance d'Apple aux ventes d'iPhone, qui repr√©sentent 52% des ventes totales du groupe. Cependant, la soci√©t√© peut compter sur la sortie d'un nouveau mod√®le tout les 1-2 ans pour faire gonfler ses ventes. <br><br>

            En terme de qualit√© pure et dure, c'est l'action la moins qualitative de mon Portefeuille avec une note de 22/30, mais son pouvoir de fixation des prix et sa client√®le ayant une loyaut√© sans faille me poussent √† rester actionnaire de cette magnifique entreprise. Je suis m√™me client d'Apple en √©tant pass√© de Samsung √† iPhone, et r√©cemment de Windows √† macOs : impossible pour faire de faire machine arri√®re ! La qualit√© de ses produits est ind√©niable, et je crois fortement √† son futur.
        </p>
        <h3 class="panel-subtitle" id="asset-risk-v">Atouts et Risques</h3>
        <table class="panel-table">
            <tr>
               <th id="panel-table-title">Atouts</th>
               <th id="panel-table-title">Risques</th> 
            </tr>
            <tr>
                <td id="asset">Fixation des prix</td>
                <td id="risk">D√©pendance √† l'iPhone</td>
            </tr>
            <tr>
                <td id="asset">Fid√©lit√© Client</td>
                <td id="risk">Ventes en Chine</td>
            </tr>
            <tr>
                <td id="asset">Qualit√© des Produits</td>
                <td id="risk">Enjeu de l'IA</td>
            </tr>
        </table>
        <h3 class="panel-subtitle" id="quality-score-v">Score de Qualit√©</h3>
        <div class="radar-container">
            <canvas id="fifteenthChart"></canvas>
        </div>
        <h4 class="held-since">Action d√©tenue depuis : 27 mars 2023</h4>
    </div>
    <div class="bar-container">
        <canvas id="thirdChart"></canvas>
        <canvas id="fourthChart"></canvas>
    </div>
    <div class="big-chart-container">
        <canvas id="eighthChart"></canvas>
    </div>
    <div class="big-chart-container" id="dividend">
        <canvas id="seventhChart"></canvas>
    </div>
    <div class="bar-container">
        <canvas id="sixthChart"></canvas>
        <canvas id="fifthChart"></canvas>
    </div>

    <div class="big-chart-container" id="annual-perf">
        <canvas id="ninethChart"></canvas>
    </div>
    <div class="big-chart-container" id="annual-perf">
        <canvas id="nineteenthChart"></canvas>
    </div>
    <div class="big-chart-container">
        <canvas id="tenthChart"></canvas>
    </div>
    <div class="big-chart-container">
        <canvas id="eleventhChart"></canvas>
    </div>
    <div class="big-chart-container" id="quality">
        <canvas id="sixteenthChart"></canvas>
    </div>
    <div class="big-chart-container">
        <canvas id="seventeenthChart"></canvas>
    </div>
    <!-- <div class="big-chart-container">
        <canvas id="nineteenthChart"></canvas>
    </div> -->

    

    <div class="footer">
        <div class="copyright">
            <img src="./media/logo-black.png" alt="Logo QualityInvest">
            <span id="copyright">StocksPickeur &copy; 2024</span>
        </div>
    </div>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script>


//TRANSITION FLUIDE POUR ALLER √Ä ENDROITS DE LA PAGE
document.querySelectorAll('.link-page a').forEach(anchor => {
    anchor.addEventListener('click', function (e) {
        e.preventDefault();

        document.querySelector(this.getAttribute('href')).scrollIntoView({
            behavior: 'smooth'
        });
    });
});
document.querySelectorAll('.link-page-aapl a').forEach(anchor => {
    anchor.addEventListener('click', function (e) {
        e.preventDefault();

        document.querySelector(this.getAttribute('href')).scrollIntoView({
            behavior: 'smooth'
        });
    });
});
document.querySelectorAll('.link-page-ma a').forEach(anchor => {
    anchor.addEventListener('click', function (e) {
        e.preventDefault();

        document.querySelector(this.getAttribute('href')).scrollIntoView({
            behavior: 'smooth'
        });
    });
});
document.querySelectorAll('.link-page-msft a').forEach(anchor => {
    anchor.addEventListener('click', function (e) {
        e.preventDefault();

        document.querySelector(this.getAttribute('href')).scrollIntoView({
            behavior: 'smooth'
        });
    });
});
document.querySelectorAll('.link-page-v a').forEach(anchor => {
    anchor.addEventListener('click', function (e) {
        e.preventDefault();

        document.querySelector(this.getAttribute('href')).scrollIntoView({
            behavior: 'smooth'
        });
    });
});

//G√âRER L'ACCORD√âON + DEPLIEMENT SMOOTH
document.addEventListener("DOMContentLoaded", function() {
  var accordions = document.getElementsByClassName("accordion");
  
  for (var i = 0; i < accordions.length; i++) {
    accordions[i].addEventListener("click", function() {
      this.classList.toggle("active");
      var panel = this.nextElementSibling;
      
      if (panel.style.display === "block") {
        panel.style.maxHeight = "0";
        setTimeout(function() {
          panel.style.display = "none";
        }, 300); // Temps de la transition en millisecondes
      } else {
        panel.style.display = "block";
        setTimeout(function() {
          panel.style.maxHeight = panel.scrollHeight + "px";
        }, 10); // Petit d√©lai pour permettre l'animation
      }
    });
  }
});


//CHANGER COULEUR BACKGROUND SI POSITIF/N√âGATIF
function changeBackgroundColor(diffEuro,diffPercent){
    const returnEuroCell = document.getElementById('return-euro');
    const returnPercentCell = document.getElementById('return-percent');

    diffEuro = parseFloat(diffEuro);
    diffPercent = parseFloat(diffPercent);

    if (diffEuro > 0){
        returnEuroCell.style.backgroundColor = 'rgba(0, 99, 27,0.5)';
    } 
    else if (value < 0) {
        returnEuroCell.style.backgroundColor = 'rgba(255, 99, 132, 0.5)';
    }
    else {
        returnEuroCell.style.backgroundColor = '';
    }

    if (diffPercent > 0){
        returnPercentCell.style.backgroundColor = 'rgba(0, 99, 27,0.5)';
    } 
    else if (value < 0) {
        returnPercentCell.style.backgroundColor = 'rgba(255, 99, 132, 0.5)';
    }
    else {
        returnPercentCell.style.backgroundColor = '';
    }
}





//TOUTES LES VARIABLES UTILIS√âES

var totalInvested = 5700; // montant total investi
var totalInvestedCell = document.getElementById("invested");
totalInvestedCell.textContent = totalInvested;

var CashOnHand = 323.66; // cash disponible
var cashCell = document.getElementById("cash");
cashCell.textContent = CashOnHand.toFixed(2);

var tickerOfShares = ["AAPL", "MA", "MSFT", "V"]; // tickers
var numberOfShares = [9, 4, 5, 5]; // nombres d'actions
var pruOfShares = [176.6352, 411.6737, 321.36, 229.595]; // PRU des 4 actions

var stocksPrice = []; // prix actuels des 4 actions, en $
let totalPRU = 0;
const valueOfStocks = []; // liste pour stocker les valeurs des actions, en $
let totalValue = 0; // valeur actuelle du portefeuille, en $

var finalValueOfStocks = []; // liste pour stocker les valeurs des actions, en ‚Ç¨
var finalValue = 0; // valeur actuelle du portefeuille, en ‚Ç¨

var averageValuePerStocks //valeur moyenne par action

var diffList = [];
var diffPercentList = [];

var dividendPerShares = [1,2.64,3.00,2.08]; // liste pour stocker les dividendes vers√©s par actions en $

var totalDividendPerShares = [];

var totalDividend = 0; //motant total des dividendes touch√©s par an
var averageDividendPerMonth = 0;

var yieldOfShares = [];

var yieldOfWallet = 0; //Rendement total du portefeuille

var years = [2022,2023]; // liste des ann√©es, pour les graphes de retours annuels et invested vs wallet value

var months = ['Janvier','F√©vrier','Mars','Avril','Mai','Juin','Juillet','Ao√ªt','Septembre','Octobre','Novembre','D√©cembre'];

var dividendPerMonth = [];

var annualReturnEuro = [0,442.03]; // liste des retours annuels, en euro

var annualReturnPercent = [0,8.26]; //liste des retours annuels, en pourcent

var annualDividendReceived = [12.35, 41.31]; //liste des dividendes annuels nets re√ßus

var totalDividendReceived = (annualDividendReceived.reduce((acc, val) => acc + val, 0)).toFixed(2); //somme de la liste annualDividendReceived

var totalGainWithoutDividend = 0; //gain total en bourse des plus-value (sans dividendes re√ßus)

var annualInvested = [0,5350]; //liste qui stocke le nombres d'euros investi par an

var walletEndYear = [0,5792.03] //liste qui stocke la valeur du portefeuille √† la fin de chaque ann√©e

var AAPLCotation = [100, 33, 67, 83, 83]; //liste des scores par secteur pour le ScoreCard
var MACotation = [83,100,100,50,100]
var MSFTCotation = [100,100,67,100,83]
var VCotation = [83,67,83,100,100]
var stocksCotation = [AAPLCotation,MACotation,MSFTCotation,VCotation];

var annualMarketReturnPercent = [-19.44,24.23]; //retour annuels du S&P500 en pourcent (source : https://www.macrotrends.net/2526/sp-500-historical-annual-returns)




//FONCTIONS 

//Obtenir le taux de change Dollar-Euro
const apiKeyCurrency = 'e5075f23dc192ea91c92c824';

async function getExchangeRate() {
    try {
        const response = await fetch(`https://api.exchangerate-api.com/v4/latest/USD`);
        const data = await response.json();
        
        if (data && data.rates && data.rates.EUR) {
            const exchangeRate = data.rates.EUR;
            return exchangeRate
        } else {
            console.log("Impossible de r√©cup√©rer le taux de change pour le moment.");
        }
    } catch (error) {
        console.error('Erreur lors de la r√©cup√©ration du taux de change :', error);
    }
}


/// Remplacez 'YOUR_API_KEY' par votre cl√© API Finnhub
const apiKey = 'cfeip41r01qoicaf4hk0cfeip41r01qoicaf4hkg';

// Fonction pour r√©cup√©rer le prix de l'action
async function getStockPrice(symbol, index) {
    try {
        const response = await fetch(`https://finnhub.io/api/v1/quote?symbol=${symbol}&token=${apiKey}`);
        const data = await response.json();

        // V√©rifier si les donn√©es ont √©t√© r√©cup√©r√©es avec succ√®s
        if (data.c) {
            const price = data.c;
            stocksPrice[index] = price; // Stocker le prix dans l'indice correspondant de stocksPrice
        } else {
            console.log(`Erreur: Impossible de r√©cup√©rer les donn√©es pour ${symbol}.`);
        }
    } catch (error) {
        console.log('Erreur:', error);
    }
}

// Obtenir le prix de toutes les actions
async function getAllStockPrices() {
    for (let i = 0; i < tickerOfShares.length; i++) {
        await getStockPrice(tickerOfShares[i], i);
    }

    // Appel de la fonction pour calculer le co√ªt total de chaque action
    calculateTotalCostOfShares();
}

// Fonction pour calculer le co√ªt total de chaque action
function calculateTotalCostOfShares() {
    totalValue = 0; // R√©initialiser la valeur totale du portefeuille
    totalPRU = 0; // R√©initialiser le PRU total
    valueOfStocks.length = 0; // R√©initialiser la liste de valeurs

    for (let i = 0; i < numberOfShares.length; i++) {
        const totalCost = numberOfShares[i] * stocksPrice[i]; // Multiplication
        totalValue += totalCost; // Accumuler la valeur totale du portefeuille
        totalPRU += Number((pruOfShares[i] * numberOfShares[i]).toFixed(2)); // Accumuler le PRU total
        
        // Ajouter la valeur totale de chaque action au tableau valueOfStocks
        valueOfStocks.push(totalCost);
    }
}

// Fonction pour calculer la performance en euro et % de chaque action
function calculatePerformanceForAllStocks(currentPrices, pruList, numberOfSharesList) {
    for (let i = 0; i < pruList.length; i++) {
        const currentPrice = currentPrices[i];
        const pru = pruList[i];
        const numberOfShares = numberOfSharesList[i];
        const diffEuro = ((currentPrice - pru) * numberOfShares).toFixed(2);
        const diffPercent = (((currentPrice - pru) / pru) * 100).toFixed(2);
        diffList.push(Number(diffEuro));
        diffPercentList.push(Number(diffPercent));
    }
    return {
        diffList: diffList,
        diffPercentList: diffPercentList
    };
}


function calculateTotalDividendPerShare(exchangeRate) {
    totalDividendPerShares.length = 0; // R√©initialiser le tableau des totaux de dividendes par action
    
    
    for (let i = 0; i < numberOfShares.length; i++) {
        const toPush = Number(((numberOfShares[i] * dividendPerShares[i]) * exchangeRate).toFixed(2)); // Calculer le total des dividendes pour cette action
        totalDividendPerShares.push(toPush); // Ajouter le total des dividendes au tableau
        totalDividend += toPush;
        
    }
}

// Fonction pour calculer le rendement de chaque action
function calculateYieldOfShares() {
    yieldOfShares.length = 0; // R√©initialiser le tableau des rendements par action
    
    for (let i = 0; i < numberOfShares.length; i++) {
        const yield = Number((100 * (dividendPerShares[i] / stocksPrice[i])).toFixed(2)); // Calculer le rendement pour cette action
        yieldOfShares.push(yield); // Ajouter le rendement au tableau
    }
}

function calculateDividendPerMonth() {
    var monthAAPL = ["F√©vrier","Mai","Ao√ªt","Novembre"];
    var monthMA = ["F√©vrier","Mai","Ao√ªt","Novembre"];
    var monthMSFT = ["Mars","Juin","Septembre","D√©cembre"];
    var monthV = ["Mars","Juin","Septembre","D√©cembre"];

    for (let i = 0; i < months.length; i++) {
        var currentMonth = months[i];

        // Initialiser le dividende pour ce mois
        var monthlyDividend = 0;

        // V√©rifie pour chaque entreprise si le mois actuel correspond √† un mois de paiement de dividende
        if (monthAAPL.includes(currentMonth)) {
            monthlyDividend += totalDividendPerShares[0] / 4;
        }
        if (monthMA.includes(currentMonth)) {
            monthlyDividend += totalDividendPerShares[1] / 4;
        }
        if (monthMSFT.includes(currentMonth)) {
            monthlyDividend += totalDividendPerShares[2] / 4;
        }
        if (monthV.includes(currentMonth)) {
            monthlyDividend += totalDividendPerShares[3] / 4;
        }
        toAdd = Number(monthlyDividend.toFixed(2));
        // Stocker le dividende total pour ce mois
        dividendPerMonth.push(toAdd);
    }
}






// Fonction pour remplir le tableau des prix actuels des actions
function fillStockPrices() {
    // S√©lectionner tous les √©l√©ments <td> avec l'ID "price"
    var priceCells = document.querySelectorAll('#price');

    // Parcourir chaque √©l√©ment <td> et mettre √† jour son contenu avec le prix correspondant
    priceCells.forEach(function(cell, index) {
        // V√©rifier si l'index est valide dans le tableau stockPrices
        if (index < stocksPrice.length) {
            // Mettre √† jour le contenu de la cellule avec le prix correspondant
            cell.textContent = stocksPrice[index];
        } else {
            // Afficher un message d'erreur si l'index est en dehors des limites du tableau
            console.error('Index out of range for stock prices array.');
        }
    });
}

// Fonction pour remplir le tableau des PRU
function fillAveragePrices() {
    // S√©lectionner tous les √©l√©ments <td> avec l'ID "price"
    var priceCells = document.querySelectorAll('#average-price');

    // Parcourir chaque √©l√©ment <td> et mettre √† jour son contenu avec le prix correspondant
    priceCells.forEach(function(cell, index) {
        // V√©rifier si l'index est valide dans le tableau stockPrices
        if (index < stocksPrice.length) {
            // Mettre √† jour le contenu de la cellule avec le prix correspondant
            cell.textContent = (pruOfShares[index]).toFixed(2);
        } else {
            // Afficher un message d'erreur si l'index est en dehors des limites du tableau
            console.error('Index out of range for stock prices array.');
        }
    });
}

// Fonction pour remplir le tableau des nombres de positions par action
function fillNumberOfShares() {
    // S√©lectionner tous les √©l√©ments <td> avec l'ID "price"
    var priceCells = document.querySelectorAll('#shares');

    // Parcourir chaque √©l√©ment <td> et mettre √† jour son contenu avec le prix correspondant
    priceCells.forEach(function(cell, index) {
        // V√©rifier si l'index est valide dans le tableau stockPrices
        if (index < stocksPrice.length) {
            // Mettre √† jour le contenu de la cellule avec le prix correspondant
            cell.textContent = (numberOfShares[index]);
        } else {
            // Afficher un message d'erreur si l'index est en dehors des limites du tableau
            console.error('Index out of range for stock prices array.');
        }
    });
}

// Fonction pour remplir le tableau de la valeur totale par action
function fillValueOfStocks(stockPrices,exchangeRate) {
    // S√©lectionner tous les √©l√©ments <td> avec l'ID "price"
    var priceCells = document.querySelectorAll('#value');

    // Parcourir chaque √©l√©ment <td> et mettre √† jour son contenu avec le prix correspondant
    priceCells.forEach(function(cell, index) {
        // V√©rifier si l'index est valide dans le tableau stockPrices
        if (index < stocksPrice.length) {
            // Mettre √† jour le contenu de la cellule avec le prix correspondant
            toAdd = Number((valueOfStocks[index] * exchangeRate).toFixed(2));
            cell.textContent = toAdd;
            finalValueOfStocks.push(toAdd);
        } else {
            // Afficher un message d'erreur si l'index est en dehors des limites du tableau
            console.error('Index out of range for stock prices array.');
        }
    });
}

// Fonction pour remplir le tableau du retour sur investissement en euro par action
function fillReturnInEuros(diffListEuro) {
    // S√©lectionner tous les √©l√©ments <td> avec l'ID "price"
    var priceCells = document.querySelectorAll('#perf-euro');

    // Parcourir chaque √©l√©ment <td> et mettre √† jour son contenu avec le prix correspondant
    priceCells.forEach(function(cell, index) {
        // V√©rifier si l'index est valide dans le tableau stockPrices
        if (index < stocksPrice.length) {
            // Mettre √† jour le contenu de la cellule avec le prix correspondant
            cell.textContent = diffListEuro[index];
        } else {
            // Afficher un message d'erreur si l'index est en dehors des limites du tableau
            console.error('Index out of range for stock prices array.');
        }
    });
}

// Fonction pour remplir le tableau du retour sur investissement en % par action
function fillReturnInPercent(diffListEuro) {
    // S√©lectionner tous les √©l√©ments <td> avec l'ID "price"
    var priceCells = document.querySelectorAll('#perf-percent');

    // Parcourir chaque √©l√©ment <td> et mettre √† jour son contenu avec le prix correspondant
    priceCells.forEach(function(cell, index) {
        // V√©rifier si l'index est valide dans le tableau stockPrices
        if (index < stocksPrice.length) {
            // Mettre √† jour le contenu de la cellule avec le prix correspondant
            cell.textContent = diffPercentList[index];
        } else {
            // Afficher un message d'erreur si l'index est en dehors des limites du tableau
            console.error('Index out of range for stock prices array.');
        }
    });
}

// GRAPHIQUES
// Donn√©es pour le premier graphique
function drawFirst(CashOnHand,finalValue) {
    var ctx = document.getElementById('firstChart').getContext('2d');

    var myChart = new Chart(ctx, {
        type: 'doughnut',
        data: {
            labels: ['Cash Dispo en ‚Ç¨', 'Placements en ‚Ç¨'],
            datasets: [{
                data: [CashOnHand, finalValue],
                backgroundColor: [
                    'rgba(255, 215, 0, 0.5)', // Couleur pour Cash On Hand
                    'rgba(54, 162, 235, 0.5)'  // Couleur pour Final Value
                ],
                borderColor: [
                    'rgba(255, 215, 0, 1)', // Couleur de bordure pour Cash On Hand
                    'rgba(54, 162, 235, 1)'  // Couleur de bordure pour Final Value
                ],
                borderWidth: 1
            }]
        },
        options: {
            cutout: '60%',
            maintainAspectRatio: false,
            plugins: {
                legend : {
                    display:true,
                    position:'bottom'
                },
                title : {
                    display:true,
                    text:'Cash Disponible VS Placements en Actions',
                    position : 'top'
                }
            }
        }
    });
}

function drawSecond(totalInvested,diffEuro) {
    var ctx = document.getElementById('secondChart').getContext('2d');

    var myChart = new Chart(ctx, {
        type: 'doughnut',
        data: {
            labels: ['Argent Investi en ‚Ç¨', 'Gain Total en ‚Ç¨'],
            datasets: [{
                data: [totalInvested, diffEuro],
                backgroundColor: [
                    'rgba(200, 200, 200, 0.5)', // Couleur pour totalInvested
                    'rgba(0,99,27, 0.5)'  // Couleur pour Gain
                ],
                borderColor: [
                    'rgba(200, 200, 200, 1)', // Couleur de bordure pour totalInvested
                    'rgba(0,99,27, 1)'  // Couleur de bordure pour Gain
                ],
                borderWidth: 1
            }]
        },
        options: {
            cutout: '60%',
            maintainAspectRatio: false,
            plugins: {
                legend : {
                    display:true,
                    position:'bottom'
                },
                title : {
                    display:true,
                    text:'Source de la valeur actuelle du Portefeuille',
                    position : 'top'
                }
            }
        }
    });
}

function drawThird(finalValueOfStocks) {
    var ctx = document.getElementById('thirdChart').getContext('2d');

    var averageData = Array(tickerOfShares.length).fill(averageValuePerStocks);

    var myChart = new Chart(ctx, {
        type: 'bar',
        data: {
            labels: tickerOfShares,
            datasets: [{
                label:'Valeur par action en ‚Ç¨',
                data: finalValueOfStocks,
                backgroundColor: [
                    'rgba(54, 162, 235, 0.5)', // Bleu pour la premi√®re valeur de stocks
                    'rgba(128, 0, 128, 0.5)', // Violet pour le premier gain
                    'rgba(255, 143, 0, 0.5)', // Orange pour la deuxi√®me valeur de stocks
                    'rgba(255, 205, 86, 0.5)'  // Jaune pour le deuxi√®me gain
                ],
                borderColor: [
                    'rgba(54, 162, 235, 1)', // Bordure bleue pour la premi√®re valeur de stocks
                    'rgba(128, 0, 128, 1)', // Bordure violete pour le premier gain
                    'rgba(255, 143, 0, 1)', // Bordure orange pour la deuxi√®me valeur de stocks
                    'rgba(255, 205, 86, 1)'  // Bordure jaune pour le deuxi√®me gain
                ],
                borderWidth: 2
            },
            {
                type: 'line',
                label: 'Valeur Moyenne  en ‚Ç¨',
                data: averageData,
                backgroundColor: 'rgba(255, 99, 132, 0.2)', // Couleur de fond pour la ligne
                borderColor: 'rgba(255, 99, 132, 1)', // Couleur de la bordure pour la ligne
                borderWidth: 3,
                borderDash: [5, 5], // Utilisez un trait pointill√©
                fill: false, // Ne pas remplir l'espace sous la ligne
                pointRadius: 0, // Aucun point pour la ligne constante
            }]
        },
        options: {
            maintainAspectRatio: false,
            plugins: {
                legend : {
                    display : true,
                    position : 'bottom'
                },
                title : {
                    display:true,
                    text:'Valeur Totale par Actions',
                    position : 'top'
                }
            }
        }
    });
}

function drawFourth(diffListEuro) {
    var ctx = document.getElementById('fourthChart').getContext('2d');

    var backgroundColors = [];
    var borderColors = [];

    for (var i = 0; i < diffListEuro.length; i++) {
        if (diffListEuro[i] >= 0) {
            // Si la valeur est positive, utiliser la couleur verte
            backgroundColors.push('rgba(0, 99, 27,0.5)'); // Vert
            borderColors.push('rgba(0, 99, 27, 1)'); // Bordure verte
        } else {
            // Si la valeur est n√©gative, utiliser la couleur rouge
            backgroundColors.push('rgba(255, 99, 132, 0.5)'); // Rouge
            borderColors.push('rgba(255, 99, 132, 1)'); // Bordure rouge
        }
    }

    var myChart = new Chart(ctx, {
        type: 'bar',
        data: {
            labels: tickerOfShares, // Assurez-vous que tickerOfShares est d√©fini quelque part
            datasets: [{
                label:'Performance par action en ‚Ç¨',
                data: diffListEuro,
                backgroundColor: backgroundColors,
                borderColor: borderColors,
                borderWidth: 2
            }]
        },
        options: {
            maintainAspectRatio: false,
            plugins: {
                legend : {
                    display : true,
                    position : 'bottom'
                },
                title : {
                    display:true,
                    text:'Retour sur Investissement par Actions',
                    position : 'top'
                }
            }
        }
    });
}

function drawFifth(totalDividendPerShares) {
    var ctx = document.getElementById('fifthChart').getContext('2d');

    var myChart = new Chart(ctx, {
        type: 'bar',
        data: {
            labels: tickerOfShares,
            datasets: [{
                label:'Dividende par action en ‚Ç¨',
                data: totalDividendPerShares,
                backgroundColor: [
                    'rgba(51, 70, 79,0.5)'
                ],
                borderColor: [
                    'rgba(51, 70, 79, 1)'
                ],
                borderWidth: 2
            }]
        },
        options: {
            maintainAspectRatio: false,
            plugins: {
                legend : {
                    display : true,
                    position : 'bottom'
                },
                title : {
                    display:true,
                    text:'Dividendes re√ßus par Actions',
                    position : 'top'
                }
            }
        }
    });
}

function drawSixth(yieldOfShares) {

    var averageYieldOfWallet = Array(yieldOfShares.length).fill(yieldOfWallet);

    var ctx = document.getElementById('sixthChart').getContext('2d');

    var myChart = new Chart(ctx, {
        type: 'line',
        data: {
            labels: tickerOfShares,
            datasets: [{
                label:'Rendement du dividende en %',
                data: yieldOfShares,
                backgroundColor: [
                    'rgba(54, 162, 235, 0.5)', // Bleu pour la premi√®re valeur de stocks
                    'rgba(128, 0, 128, 0.5)', // Violet pour le premier gain
                    'rgba(255, 143, 0, 0.5)', // Orange pour la deuxi√®me valeur de stocks
                    'rgba(255, 205, 86, 0.5)'  // Jaune pour le deuxi√®me gain
                ],
                borderColor: [
                    'rgba(54, 162, 235, 1)', // Bordure bleue pour la premi√®re valeur de stocks
                    'rgba(128, 0, 128, 1)', // Bordure violete pour le premier gain
                    'rgba(255, 143, 0, 1)', // Bordure orange pour la deuxi√®me valeur de stocks
                    'rgba(255, 205, 86, 1)'  // Bordure jaune pour le deuxi√®me gain
                ],
                borderWidth: 3,
                fill:true
            }, {
                type: 'line',
                label: 'Rendement moyen en %',
                data: averageYieldOfWallet,
                borderColor: 'rgba(255, 99, 132, 1)', // Rouge pour la ligne moyenne
                borderWidth: 3,
                borderDash: [5, 5], // Style de la ligne en pointill√©
                fill:false,
                pointRadius: 0, // Aucun point pour la ligne constante
            }]
        },
        options: {
            maintainAspectRatio: false,
            plugins: {
                legend : {
                    display : true,
                    position : 'bottom'
                },
                title : {
                    display:true,
                    text:'Rendement par Actions',
                    position : 'top'
                }
            }
        }
    });
}

function drawSeventh(dividendPerMonth, averageDividend) {
    var ctx = document.getElementById('seventhChart').getContext('2d');

    // Cr√©ation d'un tableau contenant la moyenne de tous les dividendes par mois
    var averageData = Array(dividendPerMonth.length).fill(averageDividendPerMonth);

    var myChart = new Chart(ctx, {
        type: 'bar',
        data: {
            labels: months,
            datasets: [{
                label:'Dividende par mois en ‚Ç¨',
                data: dividendPerMonth,
                backgroundColor: [
                    'rgba(0, 17, 255, 0.5)', // Bleu pour la premi√®re valeur de stocks
                ],
                borderColor: [
                    'rgba(0, 17, 255, 1)', // Bordure bleue pour la premi√®re valeur de stocks
                ],
                borderWidth: 2
            }, {
                type: 'line',
                label: 'Moyenne mensuelle en ‚Ç¨',
                data: averageData,
                backgroundColor: 'rgba(255, 99, 132, 0.2)', // Couleur de fond pour la ligne
                borderColor: 'rgba(255, 99, 132, 1)', // Couleur de la bordure pour la ligne
                borderWidth: 3,
                borderDash: [5, 5], // Utilisez un trait pointill√©
                fill: false, // Ne pas remplir l'espace sous la ligne
                pointRadius: 0, // Aucun point pour la ligne constante
            }]
        },
        options: {
            maintainAspectRatio: false,
            plugins: {
                legend : {
                    display : true,
                    position : 'bottom'
                },
                title : {
                    display:true,
                    text:'Dividendes Mensuels',
                    position : 'top'
                }
            }
            
        }
    });
}


function drawEighth(stocksPrice) {
    var ctx = document.getElementById('eighthChart').getContext('2d');
    var myChart = new Chart(ctx, {
        type: 'line',
        data: {
            labels: tickerOfShares,
            datasets: [{
                label : 'PRU en $',
                data: pruOfShares,
                backgroundColor: [
                    'rgba(214, 0, 0, 0.5)',
                ],
                borderColor: [
                    'rgba(214, 0, 0, 1)',
                ],
                borderWidth: 2
            },{
                label : "Prix de l'Action en $",
                data: stocksPrice,
                fill: '-1',
                backgroundColor: [
                    'rgba(0, 99, 27, 0.5)',
                ],
                borderColor: [
                    'rgba(0, 99, 27, 1)',
                ],
                borderWidth: 2
            }]
            
        },
        options: {
            maintainAspectRatio: false,
            plugins: {
                legend : {
                    display : true,
                    position : 'bottom'
                },
                title : {
                    display:true,
                    text:'Prix des actions VS PRU',
                    position : 'top'
                }
            },
        }
    });
}

function drawNineth() {
    var ctx = document.getElementById('ninethChart').getContext('2d');

    // D√©finition des couleurs en fonction de la valeur
    var backgroundColors = annualReturnEuro.map(value => value >= 0 ? 'rgba(0, 99, 27, 0.5)' : 'rgba(255, 99, 132, 0.5)');
    var borderColors = annualReturnEuro.map(value => value >= 0 ? 'rgba(0, 99, 27, 1)' : 'rgba(255, 99, 132, 1)');

    var myChart = new Chart(ctx, {
        type: 'bar',
        data: {
            labels: years, // Utilisation de la liste "years" pour l'axe x
            datasets: [{
                label: 'Retour Annuels en ‚Ç¨',
                data: annualReturnEuro,
                backgroundColor: backgroundColors, // Utilisation des couleurs d√©finies
                borderColor: borderColors, // Utilisation des couleurs de bordure d√©finies
                borderWidth: 2,
                yAxisID: 'euro-y-axis', // Utilisation de l'axe Y des euros
            },
            {
                label: 'Retour Annuels en %',
                data: annualReturnPercent,
                type: 'line', // Type de graphique en ligne pour les pourcentages
                fill: false, // Pas de remplissage sous la ligne
                borderColor: 'rgba(0, 10, 156, 1)', // Couleur de la ligne pour les pourcentages
                borderWidth: 3,
                yAxisID: 'percent-y-axis', // Utilisation de l'axe Y des pourcentages
                hidden:  false, // Cacher la ligne des pourcentages par d√©faut
            }]
        },
        options: {
            maintainAspectRatio: false,
            plugins: {
                legend: {
                    display: true,
                    position: 'bottom'
                },
                title: {
                    display: true,
                    text: 'Retours Annuels en Euro et en Pourcentage par an', // Modification du titre du graphique
                    position: 'top'
                }
            },
            scales: {
                'euro-y-axis': {
                    type: 'linear',
                    display: true,
                    position: 'left',
                    ticks: {
                        beginAtZero: true
                    }
                },
                'percent-y-axis': {
                    type: 'linear',
                    display: true, // Cacher l'axe Y des pourcentages
                    position: 'right',
                    ticks: {
                        beginAtZero: true
                    }
                }
            },
        }
    });
}


function drawTenth(annualInvested,walletEndYear) {
    var ctx = document.getElementById('tenthChart').getContext('2d');

    var myChart = new Chart(ctx, {
        type: 'line',
        data: {
            labels: years,
            datasets: [{
                label : 'Montant Investi en ‚Ç¨',
                data: annualInvested,
                backgroundColor: [
                    'rgba(200, 200, 200, 0.5)',
                ],
                fill:true,
                borderColor: [
                    'rgba(200, 200, 200, 1)',
                ],
                borderWidth: 1,
            },{
                label : 'Valeur du Portefeuille en ‚Ç¨',
                data: walletEndYear,
                backgroundColor: [
                    'rgba(0, 99, 27, 0.5)',
                ],
                fill:true,
                borderColor: [
                    'rgba(0, 99, 27, 1)',
                ],
                borderWidth: 2,
                fill:'-1'
            }
            
        ]
        },
        options: {
            maintainAspectRatio: false,
            plugins: {
                legend : {
                    display : true,
                    position : 'bottom'
                },
                title : {
                    display:true,
                    text:'Montant Investi VS Valeur du Portefeuille par an',
                    position : 'top'
                }
            }
        }
    });
}

function drawEleventh(annualDividendReceived) {
    var ctx = document.getElementById('eleventhChart').getContext('2d');

    var myChart = new Chart(ctx, {
        type: 'bar',
        data: {
            labels: years,
            datasets: [{
                label:'Dividende Nets re√ßus en ‚Ç¨',
                data: annualDividendReceived,
                backgroundColor: [
                    'rgba(0, 17, 255, 0.5)', // Bleu pour la premi√®re valeur de stocks
                ],
                borderColor: [
                    'rgba(0, 17, 255, 1)', // Bordure bleue pour la premi√®re valeur de stocks
                ],
                borderWidth: 2
            }]
        },
        options: {
            maintainAspectRatio: false,
            plugins: {
                legend : {
                    display : true,
                    position : 'bottom'
                },
                title : {
                    display:true,
                    text:'Dividendes Nets re√ßus par an',
                    position : 'top'
                }
            }
        }
    });
}

function drawTwelfth(stocksCotation) {
    var ctx = document.getElementById('twelfthChart').getContext('2d');

    var myChart = new Chart(ctx, {
        type: 'radar',
        data: {
            labels: ['Bases', 'Croissance', 'Rentabilit√©', 'Solvabilit√©', 'Dividende'],
            datasets: [{
                label: 'ScoreCard Apple',
                data: stocksCotation,
                backgroundColor: 'rgba(54, 162, 235, 0.5)',
                borderColor: 'rgba(54, 162, 235, 1)',
                borderWidth: 1
            }]
        },
        options: {
            maintainAspectRatio: false,
            plugins: {
                legend: {
                    display: true,
                    position: 'bottom'
                },
                title: {
                    display: false,
                    text: "ScoreCard de l'Action",
                    position: 'top'
                }
            },
            scale: {
                ticks: {
                    beginAtZero: true,
                },
                min: 0,
                max: 100,
                stepSize: 20
            }
        }
    });
}

function drawThirteenth(stocksCotation) {
    var ctx = document.getElementById('thirteenthChart').getContext('2d');

    var myChart = new Chart(ctx, {
        type: 'radar',
        data: {
            labels: ['Bases', 'Croissance', 'Rentabilit√©', 'Solvabilit√©', 'Dividende'],
            datasets: [{
                label: 'ScoreCard Mastercard',
                data: stocksCotation,
                backgroundColor: 'rgba(128, 0, 128, 0.5)',
                borderColor: 'rgba(128, 0, 128, 1)',
                borderWidth: 1
            }]
        },
        options: {
            maintainAspectRatio: false,
            plugins: {
                legend: {
                    display: true,
                    position: 'bottom'
                },
                title: {
                    display: false,
                    text: "ScoreCard de l'Action",
                    position: 'top'
                }
            },
            scale: {
                ticks: {
                    beginAtZero: true,
                },
                min: 0,
                max: 100,
                stepSize: 20
            }
        }
    });
}

function drawFourteenth(stocksCotation) {
    var ctx = document.getElementById('fourteenthChart').getContext('2d');

    var myChart = new Chart(ctx, {
        type: 'radar',
        data: {
            labels: ['Bases', 'Croissance', 'Rentabilit√©', 'Solvabilit√©', 'Dividende'],
            datasets: [{
                label: 'ScoreCard Microsoft',
                data: stocksCotation,
                backgroundColor: 'rgba(255, 143, 0, 0.5)',
                borderColor: 'rgba(255, 143, 0, 1)',
                borderWidth: 1
            }]
        },
        options: {
            maintainAspectRatio: false,
            plugins: {
                legend: {
                    display: true,
                    position: 'bottom'
                },
                title: {
                    display: false,
                    text: "ScoreCard de l'Action",
                    position: 'top'
                }
            },
            scale: {
                ticks: {
                    beginAtZero: true,
                },
                min: 0,
                max: 100,
                stepSize: 20
            }
        }
    });
}

function drawFifteenth(stocksCotation) {
    var ctx = document.getElementById('fifteenthChart').getContext('2d');

    var myChart = new Chart(ctx, {
        type: 'radar',
        data: {
            labels: ['Bases', 'Croissance', 'Rentabilit√©', 'Solvabilit√©', 'Dividende'],
            datasets: [{
                label: 'ScoreCard Visa',
                data: stocksCotation,
                backgroundColor: 'rgba(255, 205, 86, 0.5)',
                borderColor: 'rgba(255, 205, 86, 1)',
                borderWidth: 1
            }]
        },
        options: {
            maintainAspectRatio: false,
            plugins: {
                legend: {
                    display: true,
                    position: 'bottom'
                },
                title: {
                    display: false,
                    text: "ScoreCard de l'Action",
                    position: 'top'
                }
            },
            scale: {
                ticks: {
                    beginAtZero: true,
                },
                min: 0,
                max: 100,
                stepSize: 20
            }
        }
    });
}

function drawSixteenth(stocksCotation) {
    var ctx = document.getElementById('sixteenthChart').getContext('2d');

    var myChart = new Chart(ctx, {
        type: 'bar',
        data: {
            labels: tickerOfShares,
            datasets: [
                {
                    label: 'Bases',
                    data: [stocksCotation[0][0], stocksCotation[1][0], stocksCotation[2][0], stocksCotation[3][0]],
                    backgroundColor: 'rgba(255, 99, 132, 0.5)',
                    borderColor: 'rgba(255, 99, 132, 1)',
                    borderWidth: 2
                },
                {
                    label: 'Croissance',
                    data: [stocksCotation[0][1], stocksCotation[1][1], stocksCotation[2][1], stocksCotation[3][1]],
                    backgroundColor: 'rgba(54, 162, 235, 0.5)',
                    borderColor: 'rgba(54, 162, 235, 1)',
                    borderWidth: 2
                },
                {
                    label: 'Rentabilit√©',
                    data: [stocksCotation[0][2], stocksCotation[1][2], stocksCotation[2][2], stocksCotation[3][2]],
                    backgroundColor: 'rgba(255, 205, 86, 0.5)',
                    borderColor: 'rgba(255, 205, 86, 1)',
                    borderWidth: 2
                },
                {
                    label: 'Solvabilit√©',
                    data: [stocksCotation[0][3], stocksCotation[1][3], stocksCotation[2][3], stocksCotation[3][3]],
                    backgroundColor: 'rgba(75, 192, 192, 0.5)',
                    borderColor: 'rgba(75, 192, 192, 1)',
                    borderWidth: 2
                },
                {
                    label: 'Dividende',
                    data: [stocksCotation[0][4], stocksCotation[1][4], stocksCotation[2][4], stocksCotation[3][4]],
                    backgroundColor: 'rgba(153, 102, 255, 0.5)',
                    borderColor: 'rgba(153, 102, 255, 1)',
                    borderWidth: 2
                }
            ]
        },
        options: {
            maintainAspectRatio: false,
            plugins: {
                legend: {
                    display: true,
                    position: 'bottom'
                },
                title: {
                    display: true,
                    text: "Qualit√© par Segment de chaque Action en %",
                    position: 'top'
                }
            },
            scales: {
                x: {
                    stacked: true,
                },
                y: {
                    stacked: true,
                    // max:500
                }
            }
        }
    });
}

function drawSeventeenth(stocksCotations) {
    var ctx = document.getElementById('seventeenthChart').getContext('2d');

    var myChart = new Chart(ctx, {
        type: 'line',
        data: {
            labels: ['Bases', 'Croissance', 'Rentabilit√©', 'Solvabilit√©', 'Dividende'],
            datasets: [
                {
                    label: 'AAPL',
                    data: stocksCotations[0],
                    backgroundColor: 'rgba(54, 162, 235, 0.5)',
                    borderColor: 'rgba(54, 162, 235, 1)',
                    tension: 0.5
                },
                {
                    label: 'MA',
                    data: stocksCotations[1],
                    backgroundColor: 'rgba(128, 0, 128, 0.5)',
                    borderColor: 'rgba(128, 0, 128, 1)',
                    tension: 0.5
                },
                {
                    label: 'MSFT',
                    data: stocksCotations[2],
                    backgroundColor: 'rgba(255, 143, 0, 0.5)',
                    borderColor: 'rgba(255, 143, 0, 1)',
                    tension: 0.5
                },
                {
                    label: 'V',
                    data: stocksCotations[3],
                    backgroundColor: 'rgba(255, 205, 86, 0.5)',
                    borderColor: 'rgba(255, 205, 86, 1)',
                    tension: 0.5
                }
            ]
        },
        options: {
            maintainAspectRatio: false,
            plugins: {
                legend: {
                    display: true,
                    position: 'bottom'
                },
                title: {
                    display: true,
                    text: "Qualit√© des Actions par Segment en %",
                    position: 'top'
                }
            },
            scale: {
                ticks: {
                    beginAtZero: true,
                },
                min: 0,
                max: 120,
                stepSize: 20
            }
        }
    });
}

function drawEighteenth(totalDividendReceived,totalGainWithoutDividend){
    var ctx = document.getElementById('eighteenthChart').getContext('2d');

    var myChart = new Chart(ctx, {
        type: 'doughnut',
        data: {
            labels: ['Dividendes en ‚Ç¨','Plus-Value en ‚Ç¨'],
            datasets: [{
                data: [totalDividendReceived, totalGainWithoutDividend],
                backgroundColor: [
                    'rgba(46, 204, 113, 0.5)',
                    'rgba(0, 128, 0, 0.5)'
                ],
                borderColor: [
                    'rgba(46, 204, 113, 1)',
                    'rgba(39, 174, 96, 1)'
                ],
                borderWidth: 1
            }]
        },
        options: {
            cutout: '60%',
            maintainAspectRatio: false,
            plugins: {
                legend : {
                    display:true,
                    position:'bottom'
                },
                title : {
                    display:true,
                    text:'Provenance des Gains du Portefeuille',
                    position : 'top'
                }
            }
        }
    });
}

function drawNineteenth(annualReturnPercent, annualMarketReturnPercent) {
    var ctx = document.getElementById('nineteenthChart').getContext('2d');

    var myChart = new Chart(ctx, {
        type: 'bar',
        data: {
            labels: years, // Utiliser la liste des ann√©es comme √©tiquettes de l'axe X
            datasets: [{
                label: 'Performance du Portefeuille en %',
                data: annualReturnPercent,
                backgroundColor: 'rgba(255, 160, 122, 0.5)',
                borderColor: 'rgba(255, 160, 122, 1)',
                borderWidth: 2
            }, {
                label: 'Performance du S&P500 en %',
                data: annualMarketReturnPercent,
                backgroundColor: 'rgba(176, 196, 222, 0.5)',
                borderColor: 'rgba(176, 196, 222, 1)',
                borderWidth: 2
            }]
        },
        options: {
            maintainAspectRatio: false,
            plugins: {
                legend: {
                    display: true,
                    position: 'bottom'
                },
                title: {
                    display: true,
                    text: 'Comparaison des performances du Portefeuille VS le S&P500',
                    position: 'top'
                }
            },
            scales: {
                x: {
                    stacked: false
                },
                y: {
                    stacked: false
                }
            }
        }
    });
}



// Fonction d'interpolation qui ralentit sur les derniers pourcentages
function easeOutCubic(t) {
    return (--t) * t * t + 1;
}

// Fonction pour animer la barre de progression de mani√®re fluide avec une transition ralentie
function animateProgressBar(progressBar, finalValue, goal) {
    let startTime;
    const duration = 2000; // Dur√©e de l'animation en millisecondes

    // R√©cup√©rer la valeur actuelle de la barre de progression
    const currentValue = progressBar.value;

    // Calculer le pas de progression en fonction de la dur√©e et de la diff√©rence entre les valeurs actuelle et finale
    const step = (finalValue - currentValue) / 100;

    function updateProgress(timestamp) {
        // Initialiser le temps de d√©part au premier appel de la fonction
        if (!startTime) startTime = timestamp;

        // Calculer le temps √©coul√© depuis le d√©but de l'animation
        const elapsedTime = timestamp - startTime;

        // Calculer le pourcentage d'avancement en fonction du temps √©coul√©
        let progress = Math.min(elapsedTime / duration, 1); // Limiter le progr√®s √† 1

        // Appliquer une fonction d'interpolation pour ralentir sur les derniers pourcentages
        progress = easeOutCubic(progress);

        // Calculer la valeur interpol√©e entre la valeur actuelle et la valeur finale
        const interpolatedValue = currentValue + (finalValue - currentValue) * progress;

        // Mettre √† jour la valeur de la barre de progression
        progressBar.value = interpolatedValue;

        // V√©rifier si l'animation doit continuer
        if (elapsedTime < duration) {
            // Continuer l'animation en appelant la fonction de mise √† jour √† la prochaine trame d'animation
            requestAnimationFrame(updateProgress);
        }
    }

    // D√©marrer l'animation en appelant la fonction de mise √† jour pour la premi√®re fois
    requestAnimationFrame(updateProgress);
}


// Fonction pour remplir la premi√®re barre de progression
function fillFirstProgressBar(totalWallet, goal) {
    const firstProgressBar = document.getElementById('firstProgressBar');
    const progressText = document.getElementById('firstProgressText');
    firstProgressBar.max = goal;
    const percentage = ((totalWallet / goal) * 100).toFixed(2);
    progressText.textContent = percentage + "%";
    animateProgressBar(firstProgressBar, totalWallet, goal);
}

// Fonction pour remplir la deuxi√®me barre de progression
function fillSecondProgressBar(totalInvested, goal) {
    const secondProgressBar = document.getElementById('secondProgressBar');
    const progressText = document.getElementById('secondProgressText');
    secondProgressBar.max = goal;
    const percentage = ((totalInvested / goal)*100).toFixed(2);
    progressText.textContent = percentage + "%";
    animateProgressBar(secondProgressBar, totalInvested, goal);
}

// Fonction pour remplir la troisi√®me barre de progression
function fillThirdProgressBar(diffPercent, goal) {
    const thirdProgressBar = document.getElementById('thirdProgressBar');
    const progressText = document.getElementById('thirdProgressText');
    thirdProgressBar.max = goal;
    const percentage = ((diffPercent / goal)*100).toFixed(2);
    progressText.textContent = percentage + "%";
    animateProgressBar(thirdProgressBar, diffPercent, goal);
}








// Appel de la fonction pour r√©cup√©rer les prix de toutes les actions
async function main() {
    await getAllStockPrices();
    const exchangeRate = await getExchangeRate();

    finalValue = totalValue * exchangeRate;
    document.getElementById("wallet-value").textContent = finalValue.toFixed(2);

    totalWallet = finalValue + CashOnHand;
    document.getElementById("total-value").textContent = totalWallet.toFixed(2);

    diffEuro = totalWallet - totalInvested;
    document.getElementById("return-euro").textContent = diffEuro.toFixed(2);

    diffPercent = (diffEuro / totalInvested) * 100;
    document.getElementById("return-percent").textContent = diffPercent.toFixed(2) + "%";

    diffPerformance = calculatePerformanceForAllStocks(stocksPrice, pruOfShares, numberOfShares);

    const diffListEuro = diffPerformance.diffList.map(diff => Number((diff * exchangeRate).toFixed(2)));

    calculateTotalDividendPerShare(exchangeRate);
    calculateYieldOfShares();

    calculateDividendPerMonth();

    averageDividendPerMonth = Number((totalDividend / 12));

    document.getElementById("total-div").textContent = totalDividend.toFixed(2);

    yieldOfWallet = Number((totalDividend/totalWallet)*100);

    document.getElementById("yield-wallet").textContent = yieldOfWallet.toFixed(2) + "%";

    averageValuePerStocks = finalValue / tickerOfShares.length;

    totalGainWithoutDividend = (diffEuro - totalDividendReceived).toFixed(2); //le gain total en plus-value = gain total - dividendes nets re√ßus

    //CHANGER COULEURS
    changeBackgroundColor(diffEuro, diffPercent);

    //REMPLIR TABLEAUX
    fillStockPrices();
    fillAveragePrices();
    fillNumberOfShares();
    fillValueOfStocks(stocksPrice, exchangeRate);
    fillReturnInEuros(diffListEuro);
    fillReturnInPercent(diffPercentList);

    //REMPLIR BARRES DE PROGRESSION
    fillFirstProgressBar(totalWallet, 10000);
    fillSecondProgressBar(totalInvested, 6000);
    //fillThirdProgressBar(diffPercent, 20);

    //DESSINER GRAPHES
    drawFirst(CashOnHand, finalValue);
    drawSecond(totalInvested, diffEuro);
    drawThird(finalValueOfStocks);
    drawFourth(diffListEuro);
    drawFifth(totalDividendPerShares);
    drawSixth(yieldOfShares);
    drawSeventh(dividendPerMonth);
    drawEighth(stocksPrice);
    drawNineth();
    drawTenth(annualInvested, walletEndYear);
    drawEleventh(annualDividendReceived);
    drawTwelfth(AAPLCotation);
    drawThirteenth(MACotation);
    drawFourteenth(MSFTCotation);
    drawFifteenth(VCotation);
    drawSixteenth(stocksCotation);
    drawSeventeenth(stocksCotation);
    drawEighteenth(totalDividendReceived,totalGainWithoutDividend);

    drawNineteenth(annualReturnPercent,annualMarketReturnPercent);
}

main();


    </script>
</body>
</html>